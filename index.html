<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certification Quiz Game</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1, h2 {
            color: #2c3e50;
            text-align: center;
        }
        .login-form, .quiz-selection, .quiz-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        input, button, select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .class-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        .quiz-question {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .quiz-answers {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .answer-option {
            display: flex;
            align-items: center;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        .answer-option:hover {
            background-color: #f0f0f0;
        }
        .answer-option input {
            margin-right: 10px;
        }
        .correct {
            color: #27ae60;
            font-weight: bold;
        }
        .incorrect {
            color: #e74c3c;
        }
        .submit-btn {
            margin-top: 15px;
        }
        .quiz-progress {
            text-align: center;
            margin-bottom: 15px;
        }
        .back-btn {
            background-color: #95a5a6;
            margin-top: 15px;
        }
        .user-stats {
            text-align: right;
            font-size: 14px;
            margin-bottom: 20px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="main-title">Certification Quiz Game</h1>
        
        <!-- Login Form -->
        <div id="login-section">
            <h2>Login</h2>
            <div class="login-form">
                <input type="text" id="username" placeholder="Username">
                <input type="password" id="password" placeholder="Password">
                <button id="login-btn">Login</button>
                <p id="login-message"></p>
            </div>
        </div>
        
        <!-- Quiz Selection -->
        <div id="selection-section" class="hidden">
            <div class="user-stats">
                <p>Welcome, <span id="user-display"></span>!</p>
                <p>Experience: <span id="experience-display">0</span></p>
                <p>Highscore: <span id="highscore-display">0</span></p>
            </div>
            
            <h2>Select a Class</h2>
            <div class="quiz-selection">
                <div class="class-buttons" id="class-buttons">
                    <!-- Class buttons will be generated here -->
                </div>
                <button id="random-quiz-btn" class="submit-btn">Random Quiz (All Classes)</button>
                <button id="logout-btn" class="back-btn">Logout</button>
            </div>
        </div>
        
        <!-- Quiz Container -->
        <div id="quiz-section" class="hidden">
            <div class="quiz-progress">
                <p>Question <span id="current-question">1</span> of <span id="total-questions">10</span></p>
                <p>Score: <span id="current-score">0</span></p>
            </div>
            
            <div class="quiz-container">
                <div class="quiz-question" id="question-text"></div>
                <div class="quiz-answers" id="answers-container">
                    <!-- Answer options will be generated here -->
                </div>
                <button id="submit-answer" class="submit-btn">Potrdi</button>
                <button id="back-to-classes" class="back-btn">Back to Classes</button>
            </div>
        </div>
    </div>

    <script>
        // Initial empty data - will be loaded from JSON
        let coursesData = {};

        // Initial empty users data - will be loaded
        let usersData = {};

        // Application state
        let currentUser = null;
        let currentClass = null;
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let currentScore = 0;
        let isRandomQuiz = false;

        // DOM elements - changed from const to let to allow reassignment
        let loginSection = document.getElementById('login-section');
        let selectionSection = document.getElementById('selection-section');
        let quizSection = document.getElementById('quiz-section');
        let mainTitle = document.getElementById('main-title');
        
        let usernameInput = document.getElementById('username');
        let passwordInput = document.getElementById('password');
        let loginBtn = document.getElementById('login-btn');
        let loginMessage = document.getElementById('login-message');
        
        let userDisplay = document.getElementById('user-display');
        let experienceDisplay = document.getElementById('experience-display');
        let highscoreDisplay = document.getElementById('highscore-display');
        let classButtons = document.getElementById('class-buttons');
        let randomQuizBtn = document.getElementById('random-quiz-btn');
        let logoutBtn = document.getElementById('logout-btn');
        
        let questionText = document.getElementById('question-text');
        let answersContainer = document.getElementById('answers-container');
        let submitAnswerBtn = document.getElementById('submit-answer');
        let backToClassesBtn = document.getElementById('back-to-classes');
        let currentQuestionEl = document.getElementById('current-question');
        let totalQuestionsEl = document.getElementById('total-questions');
        let currentScoreEl = document.getElementById('current-score');

        // Initialize the application
        function init() {
            generateClassButtons();
            resetQuizSection(); // Make sure quiz section is properly set up initially
            attachEventListeners();
        }
        
        // Reset the quiz section to its original state and update DOM references
        function resetQuizSection() {
            quizSection.innerHTML = `
                <div class="quiz-progress">
                    <p>Question <span id="current-question">1</span> of <span id="total-questions">10</span></p>
                    <p>Score: <span id="current-score">0</span></p>
                </div>
                
                <div class="quiz-container">
                    <div class="quiz-question" id="question-text"></div>
                    <div class="quiz-answers" id="answers-container">
                        <!-- Answer options will be generated here -->
                    </div>
                    <button id="submit-answer" class="submit-btn">Potrdi</button>
                    <button id="back-to-classes" class="back-btn">Back to Classes</button>
                </div>
            `;
            
            // Update all DOM references to the quiz elements
            questionText = document.getElementById('question-text');
            answersContainer = document.getElementById('answers-container');
            submitAnswerBtn = document.getElementById('submit-answer');
            backToClassesBtn = document.getElementById('back-to-classes');
            currentQuestionEl = document.getElementById('current-question');
            totalQuestionsEl = document.getElementById('total-questions');
            currentScoreEl = document.getElementById('current-score');
            
            // Re-attach event listeners
            submitAnswerBtn.addEventListener('click', checkAnswer);
            backToClassesBtn.addEventListener('click', backToClasses);
        }

        // Generate class buttons based on available classes
        function generateClassButtons() {
            classButtons.innerHTML = '';
            Object.keys(coursesData).forEach(className => {
                const button = document.createElement('button');
                button.textContent = className;
                button.dataset.class = className;
                button.classList.add('class-button');
                classButtons.appendChild(button);
            });
        }

        // Attach event listeners to elements
        function attachEventListeners() {
            // Login
            loginBtn.addEventListener('click', handleLogin);
            
            // Class selection
            classButtons.addEventListener('click', e => {
                if (e.target.classList.contains('class-button')) {
                    startClassQuiz(e.target.dataset.class);
                }
            });
            
            randomQuizBtn.addEventListener('click', startRandomQuiz);
            logoutBtn.addEventListener('click', handleLogout);
            
            // Quiz
            submitAnswerBtn.addEventListener('click', checkAnswer);
            backToClassesBtn.addEventListener('click', backToClasses);
        }

        // Handle login functionality
        function handleLogin() {
            const username = usernameInput.value.trim();
            const password = passwordInput.value;
            
            if (usersData[username] && usersData[username].password === password) {
                currentUser = username;
                updateUserStats();
                
                loginSection.classList.add('hidden');
                selectionSection.classList.remove('hidden');
                
                // Clear login inputs
                usernameInput.value = '';
                passwordInput.value = '';
                loginMessage.textContent = '';
            } else {
                loginMessage.textContent = 'Invalid username or password';
                loginMessage.style.color = 'red';
            }
        }

        // Handle logout
        function handleLogout() {
            currentUser = null;
            selectionSection.classList.add('hidden');
            loginSection.classList.remove('hidden');
        }

        // Update user stats display
        function updateUserStats() {
            userDisplay.textContent = currentUser;
            experienceDisplay.textContent = usersData[currentUser].experience;
            highscoreDisplay.textContent = usersData[currentUser].highscore;
        }

        // Start a quiz for a specific class
        function startClassQuiz(className) {
            currentClass = className;
            isRandomQuiz = false;
            
            // Update the title to show the class name
            mainTitle.textContent = className;
            
            // Get questions for the current class
            currentQuestions = [];
            Object.entries(coursesData[className]).forEach(([question, answers]) => {
                currentQuestions.push({
                    question,
                    answers: [...answers] // Create a copy to avoid modifying the original
                });
            });
            
            startQuiz();
        }

        // Start a random quiz from all classes
        function startRandomQuiz() {
            isRandomQuiz = true;
            currentClass = 'random';
            
            // Update the title to show this is a random quiz
            mainTitle.textContent = "Random Quiz (All Classes)";
            
            // Get questions from all classes (maximum 40)
            currentQuestions = [];
            Object.entries(coursesData).forEach(([className, classQuestions]) => {
                Object.entries(classQuestions).forEach(([question, answers]) => {
                    currentQuestions.push({
                        question,
                        answers: [...answers], // Create a copy to avoid modifying the original
                        class: className
                    });
                });
            });
            
            // Shuffle and limit to 40 questions
            shuffleArray(currentQuestions);
            if (currentQuestions.length > 40) {
                currentQuestions = currentQuestions.slice(0, 40);
            }
            
            startQuiz();
        }

        // Start the quiz with the current questions
        function startQuiz() {
            currentQuestionIndex = 0;
            currentScore = 0;
            
            // Reset quiz section to ensure clean state
            resetQuizSection();
            
            selectionSection.classList.add('hidden');
            quizSection.classList.remove('hidden');
            
            totalQuestionsEl.textContent = currentQuestions.length;
            displayQuestion();
        }

        // Display the current question and answers
        function displayQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                endQuiz();
                return;
            }
            
            const questionData = currentQuestions[currentQuestionIndex];
            
            // Update UI elements
            currentQuestionEl.textContent = currentQuestionIndex + 1;
            currentScoreEl.textContent = currentScore;
            
            // Set question text
            questionText.textContent = questionData.question;
            
            // Shuffle answers for display
            const shuffledAnswers = [...questionData.answers];
            shuffleArray(shuffledAnswers);
            
            // Generate answer options
            answersContainer.innerHTML = '';
            shuffledAnswers.forEach((answer, index) => {
                const answerOption = document.createElement('label');
                answerOption.classList.add('answer-option');
                
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'answer';
                radio.value = answer;
                radio.id = `answer${index}`;
                
                const answerText = document.createTextNode(answer);
                
                answerOption.appendChild(radio);
                answerOption.appendChild(answerText);
                answersContainer.appendChild(answerOption);
            });
            
            // Make sure submit button is enabled
            if (submitAnswerBtn) {
                submitAnswerBtn.disabled = false;
            }
        }

        // Check the selected answer
        function checkAnswer() {
            const selectedAnswer = document.querySelector('input[name="answer"]:checked');
            
            if (!selectedAnswer) {
                alert('Please select an answer!');
                return;
            }
            
            const correctAnswer = currentQuestions[currentQuestionIndex].answers[0];
            const isCorrect = selectedAnswer.value === correctAnswer;
            
            // Highlight answers
            const answerOptions = document.querySelectorAll('.answer-option');
            answerOptions.forEach(option => {
                const radio = option.querySelector('input');
                
                if (radio.value === correctAnswer) {
                    option.classList.add('correct');
                } else {
                    option.classList.add('incorrect');
                }
                
                // Disable radio buttons
                radio.disabled = true;
            });
            
            // Update score if answer is correct
            if (isCorrect) {
                currentScore++;
                currentScoreEl.textContent = currentScore;
                
                // Update user experience
                usersData[currentUser].experience++;
                experienceDisplay.textContent = usersData[currentUser].experience;
            }
            
            // Disable submit button
            submitAnswerBtn.disabled = true;
            
            // Move to next question after 3 seconds
            setTimeout(() => {
                currentQuestionIndex++;
                submitAnswerBtn.disabled = false;
                
                if (currentQuestionIndex < currentQuestions.length) {
                    displayQuestion();
                } else {
                    endQuiz();
                }
            }, 3000);
        }

        // End the quiz and show results
        function endQuiz() {
            // Update highscore if this is a random quiz and score is higher
            if (isRandomQuiz && currentScore > usersData[currentUser].highscore) {
                usersData[currentUser].highscore = currentScore;
                highscoreDisplay.textContent = currentScore;
            }
            
            // Save user data
            saveUsersData();
            
            // Show result
            quizSection.innerHTML = `
                <div class="quiz-progress">
                    <h2>Quiz Completed!</h2>
                    <p>Your score: ${currentScore} out of ${currentQuestions.length}</p>
                    <p>Experience gained: +${currentScore}</p>
                    ${isRandomQuiz && currentScore > usersData[currentUser].highscore - currentScore ? 
                        `<p>New highscore: ${currentScore}!</p>` : ''}
                    <button id="back-to-classes-end" class="submit-btn">Back to Classes</button>
                </div>
            `;
            
            // Add event listener to the "Back to Classes" button
            document.getElementById('back-to-classes-end').addEventListener('click', function() {
                quizSection.classList.add('hidden');
                selectionSection.classList.remove('hidden');
                
                // Reset title to original
                mainTitle.textContent = "Certification Quiz Game";
                
                // Reset quiz section for next quiz
                resetQuizSection();
            });
        }

        // Return to class selection
        function backToClasses() {
            quizSection.classList.add('hidden');
            selectionSection.classList.remove('hidden');
            
            // Reset title to original
            mainTitle.textContent = "Certification Quiz Game";
            
            // Reset quiz section to original state for next quiz
            resetQuizSection();
        }

        // Utility function to shuffle an array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Save users data to localStorage
        function saveUsersData() {
            localStorage.setItem('quiz_users', JSON.stringify(usersData));
        }

        // Load users data from localStorage or initialize with mock data
        function loadUsersData() {
            const storedData = localStorage.getItem('quiz_users');
            if (storedData) {
                usersData = JSON.parse(storedData);
            } else {
                // Initialize with mock users
                usersData = {
                    "luka": {
                        "password": "123",
                        "experience": 0,
                        "highscore": 0
                    },
                    "test": {
                        "password": "test",
                        "experience": 10,
                        "highscore": 5
                    },
                    "admin": {
                        "password": "admin",
                        "experience": 50,
                        "highscore": 30
                    }
                };
                // Save to localStorage
                saveUsersData();
            }
        }

        // Load courses data from JSON file
        function loadCoursesData() {
            // For demonstration, we'll mock the loading with hardcoded data
            // In production, replace with actual fetch to your files
            
            // This simulates loading from a file
            coursesData = {
    "obligacijska_razmerja": {
    "Kaj je obligacijsko razmerje?": [
      "Pravno razmerje med najmanj dvema subjektoma, od katerih je eden dolžnik in eden upnik",
      "Pravno razmerje med sorodniki v prvem kolenu",
      "Razmerje med državo in državljanom"
    ],
    "Katere so sestavine obligacijskega razmerja?": [
      "Subjekti razmerja, izpolnitveno ravnanje (predmet) in medsebojne pravice in obveznosti",
      "Stranke, priče in notarski zapis",
      "Država, subjekti in plačilo davkov"
    ],
    "Kaj je obligacijska pravica?": [
      "Pravica upnika, da zahteva izpolnitev od dolžnika – do njega ima terjatev",
      "Pravica sodišča, da odloči o sporu",
      "Pravica države, da pobere davek"
    ],
    "Kaj je obligacijska dolžnost?": [
      "Dolžnik ima obvezo do upnika, da nekaj da, stori, dopusti ali opusti",
      "Upnik ima obvezo do dolžnika, da sprejme izpolnitev",
      "Sodišče ima obvezo do strank, da odloči o sporu"
    ],
    "Kdo so subjekti obligacijskega razmerja?": [
      "Fizične in pravne osebe, ki imajo pravno sposobnost",
      "Samo fizične osebe, ki so polnoletne",
      "Samo pravne osebe, ki so vpisane v sodni register"
    ],
    "Kakšna je razlika med absolutnimi in relativnimi pravicami?": [
      "Absolutne pravice so usmerjene proti vsakomur, relativne pa proti točno določenim subjektom",
      "Absolutne pravice so tiste, ki jih določa zakon, relativne pa tiste, ki jih določa pogodba",
      "Absolutne pravice so tiste, ki jih imajo fizične osebe, relativne pa tiste, ki jih imajo pravne osebe"
    ],
    "Kaj je izpolnitveno ravnanje?": [
      "Ravnanje dolžnika, ki nekaj da, stori, dopusti ali opusti",
      "Ravnanje upnika, ki terja izpolnitev obveznosti",
      "Ravnanje sodišča, ki odloči o sporu"
    ],
    "Kaj so pravna dejstva?": [
      "Dejstva, ki jim pravna pravila pripisujejo pravne posledice",
      "Dejstva, ki jih ugotavlja sodišče v postopku",
      "Dejstva, ki jih stranke navedejo v pogodbi"
    ],
    "Kaj je zavezovalni pravni posel?": [
      "Obligacijskopravna pogodba, ki določa zavezo odsvojitelja, da bo prenesel lastninsko pravico na pridobitelja",
      "Stvarnopravni posel, s katerim se prenaša lastninska pravica",
      "Posel, ki ga skleneta stranki pred notarjem"
    ],
    "Kaj je razpolagalni pravni posel?": [
      "Stvarnopravni posel, s katerim se prenaša lastninska pravica (izročitev stvari, zemljiškoknjižno dovolilo)",
      "Obligacijska pogodba, s katero se stranka zaveže k prenosu lastninske pravice",
      "Notarski zapis, s katerim se overja podpis na pogodbi"
    ],
    "Kaj je razpolagalna sposobnost?": [
      "Premoženje lahko veljavno prenese samo lastnik oz. tisti, ki veljavno razpolaga s premoženjem",
      "Sposobnost skleniti veljavno pogodbo",
      "Sposobnost pričati pred sodiščem"
    ],
    "Katere vrste pravnih poslov poznamo glede na število strank?": [
      "Enostranske in dvostranske pravne posle",
      "Formalne in neformalne pravne posle",
      "Odplačne in neodplačne pravne posle"
    ],
    "Kaj je dvostranski pravni posel?": [
      "Pravni posel, ki nastane s soglasjem dveh ali več pogodbenih strank",
      "Pravni posel, ki ga overita dva notarja",
      "Pravni posel, ki ga skleneta dve fizični osebi"
    ],
    "Kaj je enostranski pravni posel?": [
      "Pravni posel, ki nastane na podlagi izjave ene pogodbene stranke",
      "Pravni posel, ki ga overi samo en notar",
      "Pravni posel, ki ga sklene samo ena fizična oseba"
    ],
    "Katere so predpostavke za veljavno sklenitev pogodbe?": [
      "Pravna in poslovna sposobnost, prava volja in soglasje volj, izpolnitveno ravnanje in poslovna podlaga",
      "Overjen podpis, notarski zapis in registracija na sodišču",
      "Plačilo kupnine, izročitev predmeta in plačilo davka"
    ],
    "Kaj je pravna sposobnost?": [
      "Sposobnost biti subjekt pravic in obveznosti",
      "Sposobnost izraziti pravo voljo za sklenitev pravnega posla",
      "Sposobnost zastopati stranko v postopku"
    ],
    "Kdaj nastane pravna sposobnost za fizične osebe?": [
      "Z rojstvom in preneha s smrtjo",
      "Z dopolnitvijo 18 let in preneha s smrtjo",
      "Z rojstvom in preneha z odvzemom pravne sposobnosti"
    ],
    "Kaj je poslovna sposobnost?": [
      "Pravno priznana sposobnost izraziti pravo voljo za sklenitev pravnega posla",
      "Sposobnost biti subjekt pravic in obveznosti",
      "Sposobnost zastopati stranko v postopku"
    ],
    "Kdaj nastopi popolna poslovna sposobnost?": [
      "Z dopolnjenim 18. letom starosti",
      "Z dopolnjenim 15. letom starosti",
      "Z rojstvom"
    ],
    "Kaj je zastopanje?": [
      "Pravno priznano ravnanje, s katerim zastopnik v imenu in za račun zastopanega sklepa pravne posle",
      "Pravno priznano ravnanje, s katerim zastopnik v svojem imenu in za svoj račun sklepa pravne posle",
      "Pravno priznano ravnanje, s katerim zastopnik v svojem imenu in za tuji račun sklepa pravne posle"
    ],
    "Kaj je zmota?": [
      "Napačna predstava o kakšni okoliščini",
      "Namerna povzročitev napačne predstave pri drugi stranki",
      "Grožnja drugi stranki, da sklene pogodbo"
    ],
    "Kakšna je razlika med pristno in nepristno zmoto?": [
      "Pri pristni zmoti si stranka nekaj napačno predstavlja, izjava pa ustreza tej predstavi, pri nepristni pa si stvari pravilno predstavlja, a izjavi nekaj drugega",
      "Pristna zmota je tista, ki jo povzroči stranka sama, nepristna pa tista, ki jo povzroči druga stranka",
      "Pristna zmota je tista, ki jo ugotovi sodišče, nepristna pa tista, ki jo ugotovi stranka sama"
    ],
    "Kaj je prevara?": [
      "Ko kdo spravi drugega v zmoto, tako da ta sklene pravni posel",
      "Ko se stranki dogovorita, da bosta zavajali tretje osebe",
      "Ko stranka noče skleniti pogodbe, ki jo je prej obljubila"
    ],
    "Kaj je grožnja?": [
      "Ko je nasilje ali grožnja takšna, da stranka pod njenim vplivom oblikuje voljo in jo izrazi",
      "Ko stranka grozi, da bo odstopila od pogodbe",
      "Ko stranka grozi, da bo vložila tožbo"
    ],
    "Kakšen mora biti predmet pogodbe?": [
      "Mora biti določen ali določljiv, dovoljen in mogoč",
      "Mora biti premičnina ali nepremičnina",
      "Mora biti vreden vsaj 1000 evrov"
    ],
    "Kdaj je oblika pogodbe predpostavka za veljavnost?": [
      "Samo izjemoma, kadar to določa zakon ali se o njej stranki dogovorita",
      "Vedno, vsaka pogodba mora biti sklenjena v pisni obliki",
      "Samo pri pogodbah, katerih vrednost presega 10.000 evrov"
    ],
    "Kaj je namen oblike pogodbe ad solemnitatem?": [
      "Varstvo veljavnosti pogodbe",
      "Dokaz o obstoju pogodbe",
      "Registracija pogodbe v javnih knjigah"
    ],
    "Kaj je predpogodba?": [
      "Pogodba, da bosta stranki sklenili pogodbo",
      "Osnutek pogodbe, ki ga pripravi notar",
      "Pogodba, ki jo stranki skleneta pred sodiščem"
    ],
    "Kaj so pogajanja?": [
      "Dajanje predlogov in nasprotnih predlogov",
      "Formalno sklepanje pogodbe pred notarjem",
      "Vlaganje tožb in pritožb"
    ],
    "Kaj je oferta (ponudba)?": [
      "Strankin predlog, ki vsebuje povabilo drugi stranki, naj sklene pogodbo",
      "Sprejem ponudbe nasprotne stranke",
      "Predlog za prekinitev pogodbe"
    ],
    "Kakšna mora biti ponudba, da se šteje za ponudbo v pravnem smislu?": [
      "Mora biti določna, vsebovati mora vse bistvene elemente pogodbe",
      "Mora biti podana v pisni obliki",
      "Mora biti podana pred pričami"
    ],
    "Kaj je akceptacija?": [
      "Sprejem ponudbe",
      "Dajanje ponudbe",
      "Preklic ponudbe"
    ],
    "Kaj je javna dražba?": [
      "Način sklenitve pogodbe, kjer je pogodba sklenjena, ko je podana najvišja ponudba",
      "Način sklenitve pogodbe, kjer je pogodba sklenjena, ko se stranki dogovorita o vseh bistvenih elementih",
      "Način sklenitve pogodbe, kjer je pogodba sklenjena, ko jo potrdi sodišče"
    ],
    "Kaj pomeni načelo pacta sunt servanda?": [
      "Dogovore je treba spoštovati",
      "Dogovore je treba razlagati v korist šibkejše stranke",
      "Dogovore je mogoče vedno enostransko razdreti"
    ],
    "Katere so vrste kršitve pogodbenih obveznosti?": [
      "Neizpolnitev, zamuda in izpolnitev z napakami",
      "Samo neizpolnitev in izpolnitev z zamudo",
      "Samo izpolnitev z napakami in neizpolnitev"
    ],
    "Kaj je zamuda?": [
      "Neizpolnitev ob dospelosti, zaradi katere je mogoče uveljavljati pravne sankcije",
      "Izpolnitev z napakami",
      "Izpolnitev na drugem kraju, kot je bilo dogovorjeno"
    ],
    "Kdaj nastopi zamuda?": [
      "Pri določnosti izpolnitvenega časa zadostuje dospelost, pri nedoločnosti izpolnitvenega časa pa je potreben opomin",
      "Vedno takoj po sklenitvi pogodbe",
      "Vedno šele po opominu, ne glede na določenost izpolnitvenega časa"
    ],
    "Kaj so zamudne obresti?": [
      "Objektivna posledica zamude pri denarnih obveznostih",
      "Pogodbena kazen za zamudo",
      "Odškodnina za škodo zaradi zamude"
    ],
    "Kaj je pogodbena kazen?": [
      "Dogovor med upnikom in dolžnikom, da bo dolžnik upniku plačal določen denarni znesek v primeru neizpolnitve ali nepravilne izpolnitve",
      "Kazen, ki jo določi sodišče v primeru neizpolnitve pogodbe",
      "Kazen, ki jo določi zakon v primeru neizpolnitve pogodbe"
    ],
    "Za kakšne obveznosti ne more biti dogovorjena pogodbena kazen?": [
      "Za denarne obveznosti",
      "Za nedenarne obveznosti",
      "Za obligacije rezultata"
    ],
    "Kaj je sodni penal?": [
      "Denarni znesek, ki ga izvršilno sodišče na upnikovo zahtevo naloži dolžniku, če ta pravočasno ne izpolni obveznosti, ugotovljene s pravnomočno sodno odločbo",
      "Denarni znesek, ki ga sodišče naloži upniku, če ta ne sprejme izpolnitve",
      "Denarni znesek, ki ga sodišče naloži stranki, ki izgubi pravdo"
    ],
    "Kaj je odstopnina?": [
      "Denarni znesek, ki ga stranka plača, če odstopi od pogodbe",
      "Denarni znesek, ki ga stranka plača, če pogodbe ne izpolni pravočasno",
      "Denarni znesek, ki ga stranka plača, če pogodbe ne izpolni pravilno"
    ],
    "Kaj je poslovna odškodninska odgovornost?": [
      "Odgovornost za škodo, ki nastane zaradi kršitve določil iz predhodnega obligacijskega razmerja",
      "Odgovornost za škodo, ki nastane zaradi kršitve splošne prepovedi povzročanja škode",
      "Odgovornost za škodo, ki nastane zaradi kršitve javnega reda in miru"
    ],
    "Kaj je neposlovna odškodninska odgovornost?": [
      "Odgovornost za škodo, ki nastane zaradi kršitve splošne prepovedi povzročanja škode",
      "Odgovornost za škodo, ki nastane zaradi kršitve določil iz predhodnega obligacijskega razmerja",
      "Odgovornost za škodo, ki nastane zaradi kršitve javnega reda in miru"
    ],
    "Katere so predpostavke odškodninske odgovornosti?": [
      "Nedopustnost, škoda, vzročna zveza med nedopustnim ravnanjem in nastankom škode, ter odgovornost povzročitelja škode",
      "Samo nastanek škode in krivda povzročitelja",
      "Samo nedopustno ravnanje in nastanek škode"
    ],
    "Katera vrsta odgovornosti je objektivna odgovornost?": [
      "Odgovornost ne glede na krivdo",
      "Odgovornost samo za naklepno povzročeno škodo",
      "Odgovornost samo za škodo, povzročeno iz malomarnosti"
    ],
    "Kaj je krivdna odgovornost?": [
      "Odgovornost za škodo, povzročeno namenoma ali iz malomarnosti",
      "Odgovornost ne glede na krivdo",
      "Odgovornost samo za naklepno povzročeno škodo"
    ],
    "Kaj je pravilo o popolni odškodnini?": [
      "S plačilom odškodnine postane položaj oškodovanca tak, kakršen bi bil, če ne bi bilo škodnega dogodka",
      "Oškodovanec prejme pavšalno odškodnino, ki jo določi sodišče",
      "Oškodovanec prejme odškodnino v višini 50% nastale škode"
    ],
    "Kaj je enostransko obveznostno razmerje?": [
      "Razmerje, v katerem je vsaka stranka le upnik ali dolžnik",
      "Razmerje, v katerem sta obe stranki hkrati dolžnika in upnika",
      "Razmerje, v katerem lahko samo ena stranka zahteva izpolnitev"
    ],
    "Kaj je dvostransko obveznostno razmerje?": [
      "Razmerje, v katerem sta obe stranki hkrati dolžnika in upnika",
      "Razmerje, v katerem je vsaka stranka le upnik ali dolžnik",
      "Razmerje, v katerem lahko samo ena stranka zahteva izpolnitev"
    ],
    "Kaj je sinalagmatično (vzajemno) razmerje?": [
      "Razmerje, kjer je izpolnitev ene stranke odvisna od izpolnitve druge stranke",
      "Razmerje, kjer obveznost ene stranke ni odvisna od obveznosti druge stranke",
      "Razmerje, kjer samo ena stranka nekaj dolguje"
    ],
    "Kaj je obligacija rezultata?": [
      "Obveznost, pri kateri je dolžnik dolžan doseči določen rezultat",
      "Obveznost, pri kateri je dolžnik dolžan ravnati s potrebno skrbnostjo, ne glede na rezultat",
      "Obveznost, pri kateri je dolžnik dolžan doseči rezultat samo, če je to mogoče"
    ],
    "Kaj je obligacija prizadevanja?": [
      "Obveznost, pri kateri je dolžnik dolžan ravnati s potrebno skrbnostjo, ne glede na rezultat",
      "Obveznost, pri kateri je dolžnik dolžan doseči določen rezultat",
      "Obveznost, pri kateri je dolžnik dolžan doseči rezultat samo, če je to mogoče"
    ],
    "Kaj je izpolnitev obveznosti?": [
      "Ko dolžnik opravi izpolnitveno ravnanje, ki je predmet obligacije",
      "Ko upnik terja izpolnitev obveznosti",
      "Ko sodišče odloči, da je obveznost izpolnjena"
    ],
    "Kdaj nastopi poslovna nesposobnost?": [
      "Pri fizičnih osebah do 15. leta, oziroma če jim je sposobnost popolno odvzeta",
      "Pri fizičnih osebah do 18. leta",
      "Pri fizičnih osebah do 21. leta"
    ],
    "Katere so sankcije za neizpolnitev pogodbenih obveznosti?": [
      "Pravica do odstopa od pogodbe, zamudne obresti, pogodbene kazni, odškodnina",
      "Samo denarna odškodnina",
      "Samo kazenska ovadba"
    ],
    "Kaj je simuliran posel?": [
      "Posel, ki ga stranki skleneta le na videz, zanju pa naj tak posel ne bi veljal",
      "Posel, ki ga stranki skleneta s posredovanjem simulatorja",
      "Posel, ki ga stranki skleneta po telefonu"
    ],
    "Kaj je disenz?": [
      "Nesporazum o naravi pogodbe ali o podlagi ali predmetu obveznosti",
      "Sporazum o sklenitvi pogodbe",
      "Sporazum o odstopu od pogodbe"
    ],
    "Kaj je fiduciarni posel?": [
      "Posel, pri katerem ena stranka prenese na drugo določeno pravico z namenom zavarovanja terjatve",
      "Posel, ki je sklenjen v korist tretje osebe",
      "Posel, ki je sklenjen s posredovanjem fiduciarja"
    ],
    "Kaj je poslovna podlaga?": [
      "Okoliščine, ki so obstajale ob sklenitvi pogodbe in so bile odločilne za sklenitev pogodbe",
      "Podlaga, na kateri se sklene pogodba (npr. notar, sodišče)",
      "Finančna podlaga za sklenitev pogodbe"
    ],
    "Kakšna je razlika med ničnostjo in izpodbojnostjo?": [
      "Ničen posel ne učinkuje že po samem zakonu, izpodbojen posel pa učinkuje, dokler se ne izpodbije",
      "Ničen posel lahko izpodbija samo sodišče, izpodbojen posel pa samo stranka",
      "Ničen posel je tisti, ki ga sklene poslovno nesposobna oseba, izpodbojen posel pa tisti, ki ga sklene polnoletna oseba"
    ],
    "Kaj je konverzija?": [
      "Pretvorba neveljavnega pravnega posla v veljaven pravni posel druge vrste",
      "Pretvorba posamezne valute v drugo valuto",
      "Pretvorba pisne pogodbe v ustno pogodbo"
    ],
    "Kaj je kondikcija?": [
      "Obveznost vrnitve tistega, kar je bilo pridobljeno brez pravnega temelja",
      "Obveznost plačila odškodnine",
      "Obveznost izpolnitve pogodbe"
    ],
    "Kaj je restitucija?": [
      "Vrnitev v prejšnje stanje",
      "Plačilo odškodnine",
      "Izpolnitev pogodbe"
    ],
    "Kaj je komisijska pogodba?": [
      "Pogodba, s katero se komisionar zaveže, da bo za plačilo (provizijo) v svojem imenu in na račun komitenta opravil enega ali več poslov, ki mu jih je zaupal komitent",
      "Pogodba, s katero se komisionar zaveže, da bo za plačilo v imenu in za račun komitenta opravil enega ali več poslov",
      "Pogodba, s katero se komisionar zaveže, da bo za plačilo v svojem imenu in za svoj račun opravil enega ali več poslov"
    ],
    "Kaj je naknadna nemožnost izpolnitve?": [
      "Nemožnost izpolnitve, ki nastopi po sklenitvi pogodbe",
      "Nemožnost izpolnitve, ki obstaja že ob sklenitvi pogodbe",
      "Nemožnost izpolnitve, ki nastopi zaradi višje sile"
    ],
    "Kaj je začetna nemožnost izpolnitve?": [
      "Nemožnost izpolnitve, ki obstaja že ob sklenitvi pogodbe",
      "Nemožnost izpolnitve, ki nastopi po sklenitvi pogodbe",
      "Nemožnost izpolnitve, ki nastopi zaradi višje sile"
    ],
    "Kaj je absolutna nemožnost izpolnitve?": [
      "Nemožnost, ko nihče ne more izpolniti obveznosti",
      "Nemožnost, ko dolžnik ne more izpolniti obveznosti, drugi pa bi jo lahko",
      "Nemožnost, ko dolžnik ne more izpolniti obveznosti zaradi osebnih okoliščin"
    ],
    "Kaj je relativna nemožnost izpolnitve?": [
      "Nemožnost, ko dolžnik ne more izpolniti obveznosti, drugi pa bi jo lahko",
      "Nemožnost, ko nihče ne more izpolniti obveznosti",
      "Nemožnost, ko dolžnik ne more izpolniti obveznosti zaradi osebnih okoliščin"
    ],
    "Kaj je mandat?": [
      "Razmerje med pooblastiteljem in pooblaščencem, ki nastane s pooblastitvijo",
      "Razmerje med upnikom in dolžnikom",
      "Razmerje med zastopnikom in zastopanim"
    ],
    "Kaj je prokura?": [
      "Posebno trgovsko pooblastilo, ki ga podeli podjetnik in ki upravičuje prokurista za sklepanje vseh poslov, ki spadajo v pravno sposobnost podjetnika",
      "Pooblastilo, ki ga podeli fizična oseba drugi fizični osebi",
      "Pooblastilo, ki ga podeli sodišče zastopniku stranke"
    ],
    "Kaj je konkludentno dejanje?": [
      "Dejanje, iz katerega se da sklepati na določeno voljo",
      "Dejanje, ki je izrecno izjavljeno",
      "Dejanje, ki ga stori sodišče"
    ],
    "Kaj je višja sila?": [
      "Dogodek, ki ga ni bilo mogoče pričakovati, se mu izogniti ali ga odvrniti",
      "Dogodek, ki ga povzroči človek",
      "Dogodek, ki ga povzroči stranka sama"
    ],
    "Kaj je oderuška pogodba?": [
      "Pogodba, pri kateri kdo izkoristi stisko, težko premoženjsko stanje, neizkušenost, lahkomiselnost ali odvisnost drugega in si izgovori zase ali za koga tretjega korist, ki je v očitnem nesorazmerju z obveznostjo",
      "Pogodba, pri kateri je ena stranka v zamudi z izpolnitvijo",
      "Pogodba, pri kateri je predmet izpolnitve oderuška obremenitev"
    ],
    "Kaj je čezmerno prikrajšanje?": [
      "Ko je med obveznostmi pogodbenih strank očitno nesorazmerje",
      "Ko je ena stranka v zamudi z izpolnitvijo",
      "Ko ena stranka sploh ne izpolni svoje obveznosti"
    ],
    "Kaj je nemožnost izpolnitve?": [
      "Stanje, ko obveznosti ni mogoče izpolniti",
      "Stanje, ko stranka noče izpolniti obveznosti",
      "Stanje, ko stranka zamuja z izpolnitvijo obveznosti"
    ],
    "Kaj je naključje?": [
      "Dogodek, ki ga ni bilo mogoče predvideti, se mu izogniti ali ga odvrniti, in za katerega ni odgovorna nobena od strank",
      "Dogodek, ki ga povzroči ena od strank",
      "Dogodek, ki ga povzroči tretja oseba"
    ],
    "Kaj je mešano naključje?": [
      "Dogodek, ki ga ni bilo mogoče predvideti, vendar bi do njega ne prišlo, če stranka ne bi bila v zamudi",
      "Dogodek, ki ga povzroči tako ena kot druga stranka",
      "Dogodek, ki ga povzroči tako stranka kot tretja oseba"
    ],
    "Kaj je spremenjene okoliščine (klavzula rebus sic stantibus)?": [
      "Okoliščine, ki nastopijo po sklenitvi pogodbe in otežujejo izpolnitev obveznosti ene stranke v tolikšni meri, da bi bilo očitno nepravično ohraniti pogodbo v veljavi",
      "Okoliščine, ki obstajajo ob sklenitvi pogodbe in otežujejo izpolnitev obveznosti",
      "Okoliščine, ki nastopijo po sklenitvi pogodbe in povzročijo nemožnost izpolnitve"
    ],
    "Kaj je javna dražba?": [
      "Postopek, pri katerem dobi blago tisti ponudnik, ki zanj ponudi najvišjo ceno",
      "Postopek, pri katerem dobi blago tisti ponudnik, ki zanj ponudi najnižjo ceno",
      "Postopek, pri katerem dobi blago tisti ponudnik, ki ga izbere prodajalec"
    ],
    "Kaj je licitacija?": [
      "Postopek, pri katerem razpis zbira ponudbe za sklenitev pogodbe",
      "Postopek, pri katerem dobi blago tisti ponudnik, ki zanj ponudi najvišjo ceno",
      "Postopek, pri katerem dobi blago tisti ponudnik, ki zanj ponudi najnižjo ceno"
    ],
    "Kaj je avkcija?": [
      "Prodaja določene vrste stvari na določenem kraju in po določenih pravilih",
      "Prodaja določene vrste stvari na dražbi",
      "Prodaja določene vrste stvari na podlagi zbiranja ponudb"
    ],
    "Kaj je nepravična pogodbena določila?": [
      "Določila, o katerih se stranke niso dogovarjale posamično in ki v nasprotju z načelom vestnosti in poštenja povzročijo znatno neravnotežje v pogodbenih pravicah in obveznostih strank",
      "Določila, ki so v nasprotju z zakonom",
      "Določila, ki so v nasprotju z moralo"
    ],
    "Kaj je formularni model pogodbe?": [
      "Vnaprej pripravljen obrazec pogodbe, ki ga ena stranka predloži drugi stranki",
      "Pogodba, ki je sklenjena pred notarjem",
      "Pogodba, ki je sklenjena pred sodiščem"
    ],
  },
    "class_2": {
        "Which keyword is used to declare a variable in JavaScript?": ["var, let, const", "variable", "v"],
        "What is the correct way to write a JavaScript array?": ["const arr = [1, 2, 3]", "const arr = (1, 2, 3)", "const arr = 1, 2, 3"],
        "How do you write 'Hello World' in an alert box?": ["alert('Hello World')", "msgBox('Hello World')", "msg('Hello World')"],
        "How do you create a function in JavaScript?": ["function myFunction() {}", "create myFunction() {}", "function:myFunction() {}"],
        "How do you call a function named 'myFunction'?": ["myFunction()", "call myFunction()", "call function myFunction()"]
    },
    "class_3": {
        "What does API stand for?": ["Application Programming Interface", "Application Process Integration", "Advanced Programming Interface"],
        "Which HTTP method is used to retrieve data?": ["GET", "POST", "PUT"],
        "What format is commonly used for API data exchange?": ["JSON", "HTML", "CSS"],
        "What is REST in the context of APIs?": ["Representational State Transfer", "Remote Endpoint Service Transfer", "Resource Exchange System Technology"],
        "Which status code indicates a successful HTTP request?": ["200 OK", "404 Not Found", "500 Internal Server Error"]
    },
    "class_4": {
        "Which SQL statement is used to extract data from a database?": ["SELECT", "GET", "EXTRACT"],
        "Which SQL statement is used to update data in a database?": ["UPDATE", "MODIFY", "CHANGE"],
        "What does SQL stand for?": ["Structured Query Language", "Simple Query Language", "Standard Query Language"],
        "Which SQL keyword is used to filter records?": ["WHERE", "FILTER", "CONDITION"],
        "Which SQL statement is used to delete data from a database?": ["DELETE", "REMOVE", "CLEAR"]
    }
            };
            
            // In a real implementation, you'd use:
            // fetch('/courses/courses.json')
            //     .then(response => response.json())
            //     .then(data => {
            //         coursesData = data;
            //         generateClassButtons();
            //     });
        }

        // Load saved data and initialize app
        loadUsersData();
        loadCoursesData(); 
        // Wait a bit for data to load before initializing
        setTimeout(init, 500);

        // Save data before page unload
        window.addEventListener('beforeunload', saveUsersData);
    </script>
</body>
</html>